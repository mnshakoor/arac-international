<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ARAC Strategic Communications Division</title>
  <style>
    :root {
      --teal: #00b9a1;
      --green: #4CAF50;
      --ink: #0a0a0a;
      --bg: #000000;
      --text: #f5f5f5;
    }
    * { box-sizing: border-box; }
    html, body { height: auto; min-height: 100vh; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      background: linear-gradient(135deg, #001a00, #000000, #004d00);
      background-size: 200% 200%;
      animation: gradientShift 20s ease infinite;
      color: var(--text);
      overflow-y: auto;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    header {
      margin-top: 50px;
      text-align: center;
      z-index: 10;
      padding: 0 12px;
      user-select: none;
      pointer-events: none;
    }
    header img { width: 220px; max-width: 60vw; filter: drop-shadow(0 2px 12px rgba(0,0,0,.5)); }
    header h1 { margin: 20px 0 0; color: var(--teal); font-weight: 700; letter-spacing: .3px; }
    header p { margin: 6px 0 0; opacity: .9; }

    canvas { display: block; width: 100%; height: 70vh; margin-top: 40px; }

    @media (max-height: 800px) {
      canvas { height: 60vh; }
    }

    .links {
      position: relative; margin-top: 20px;
      width: 100%; max-width: 1200px; padding: 0 12px; text-align: center; z-index: 5;
    }
    .links a {
      display: inline-block; margin: 6px 8px; padding: 10px 14px 11px;
      background: var(--teal); color: #00110d; text-decoration: none;
      border-radius: 8px; font-weight: 700; letter-spacing: .2px; transition: transform .15s ease, background .2s ease;
      box-shadow: 0 6px 20px rgba(0,185,161,.18);
    }
    .links a:hover { background: var(--green); transform: translateY(-1px); }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #cfcfcf;
      padding: 20px 10px;
      background: rgba(0, 0, 0, 0.3);
      border-top: 1px solid rgba(0,185,161,0.2);
      width: 100%;
    }

    footer a.button {
      display: inline-block;
      margin-top: 10px;
      background: var(--teal);
      color: #00110d;
      text-decoration: none;
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: 700;
      box-shadow: 0 6px 20px rgba(0,185,161,.18);
      transition: transform .2s ease, background .2s ease;
    }

    footer a.button:hover {
      background: var(--green);
      transform: translateY(-2px);
    }

    #status { position: absolute; top: 10px; left: 10px; font-size: 12px; opacity: .7; z-index: 15; }
  </style>
</head>
<body>
  <div id="status">loadingâ€¦</div>
  <header>
      <img src="arac-stratcom-digital.PNG" alt="ARAC Logo" />
    <h1>Strategic Communications Division</h1>
    <p>Data Journalism & Analytical Communications for Peace and Security</p>
  </header>

  <canvas id="network" aria-label="Animated partner network visualization"></canvas>

  <div class="links" aria-label="Primary navigation">
    <a href="https://newsletter.arac-international.org" target="_blank" rel="noopener">Flashpoints &Frameworks Substack</a>
    <a href="https://afsdata.net" target="_blank" rel="noopener">Data Journalism & Editorials</a>
    <a href="https://digitalnavigator.mnshakoor.com/" target="_blank" rel="noopener">Digital Literacy</a>
   <a href="https://arac-international.teachable.com" target="_blank" rel="noopener">ARAC Teachable</a> 
    <a href="https://gsn-app.arac-international.org" target="_blank" rel="noopener">GS News Aggregator</a>
    <a href="https://public.tableau.com/app/profile/m.nuri.shakoor/vizzes" target="_blank" rel="noopener">Dashboards</a>
    <a href="https://quanta-analytica.mnshakoor.com" target="_blank" rel="noopener">Quanta Analytica</a>
    <a href="https://quanta-analytica.mnshakoor.com/resources" target="_blank" rel="noopener">Resources</a>
    <a href="https://mns-consulting.b12sites.com/index" target="_blank" rel="noopener">MNS Consulting</a>
  </div>

  <footer>
    ARAC International is a 501(c)(3) nonprofit research organization dedicated to the advancement of human rights, global security, and positive peace.<br>
    <a href="https://global.arac-international.org" target="_blank" rel="noopener" class="button">Visit Our Global Site / Donate</a>
  </footer>

  <script>
    const canvas = document.getElementById('network');
    const ctx = canvas.getContext('2d');
    const DPR = Math.max(1, Math.floor(window.devicePixelRatio || 1));

    function resizeCanvas() {
      const { innerWidth:w, innerHeight:h } = window;
      canvas.width = w * DPR;
      canvas.height = h * DPR;
      canvas.style.width = w + 'px';
      canvas.style.height = h + 'px';
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
    }
    resizeCanvas();

    const nodes = [];
    const NODE_COUNT = 46;
    for (let i = 0; i < NODE_COUNT; i++) {
      nodes.push({
        x: Math.random() * window.innerWidth,
        y: Math.random() * window.innerHeight,
        vx: (Math.random() - 0.5) * 0.7,
        vy: (Math.random() - 0.5) * 0.7,
        r: Math.random() * 1.8 + 0.9
      });
    }

    const IMAGE_SOURCES = [
      'arac-stratcom.PNG', 'IOSI logo black-white.PNG', 'logo-mns2-seal.PNG', 'digital-navigator.PNG',
      'iosi-mforce.PNG', 'srmp-c-seal.PNG', 'inssa.PNG', 'iep.PNG', 'the-sovereign-observer.png',
      'usidhr-badge.PNG', 'arac-data.PNG', 'lbs-gsc.PNG', 'usidhr-hr-badge.PNG'
    ];

    function loadImages(srcs) {
      return Promise.all(srcs.map(src => new Promise(resolve => {
        const img = new Image();
        img.decoding = 'async';
        img.onload = () => resolve({ ok: true, img, src });
        img.onerror = () => resolve({ ok: false, img: null, src });
        img.src = src;
      })));
    }

    function drawPlaceholder(x, y, size, label) {
      ctx.save();
      ctx.beginPath();
      ctx.arc(x, y, size/2, 0, Math.PI * 2);
      ctx.fillStyle = 'rgba(0,185,161,.15)';
      ctx.fill();
      ctx.lineWidth = 2;
      ctx.strokeStyle = 'rgba(0,185,161,.6)';
      ctx.stroke();
      ctx.fillStyle = 'rgba(245,245,245,.85)';
      ctx.font = '600 10px system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label || 'N/A', x, y);
      ctx.restore();
    }

    function start(icons) {
      const status = document.getElementById('status');
      status.textContent = 'ready';
      setTimeout(() => status.remove(), 1200);

      let hueShift = 0;

      function frame() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        hueShift = (hueShift + 0.3) % 360;
        const grad = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
        grad.addColorStop(0, `hsl(${hueShift}, 60%, 8%)`);
        grad.addColorStop(0.4, `hsl(${(hueShift + 60) % 360}, 60%, 5%)`);
        grad.addColorStop(1, `hsl(${(hueShift + 120) % 360}, 60%, 10%)`);
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        for (let i = 0; i < nodes.length; i++) {
          const n = nodes[i];
          n.x += n.vx; n.y += n.vy;
          if (n.x < 0 || n.x > window.innerWidth) n.vx *= -1;
          if (n.y < 0 || n.y > window.innerHeight) n.vy *= -1;

          ctx.beginPath();
          ctx.arc(n.x, n.y, n.r, 0, Math.PI * 2);
          ctx.fillStyle = `hsl(${hueShift}, 70%, 55%)`;
          ctx.shadowColor = `hsl(${hueShift}, 70%, 55%)`;
          ctx.shadowBlur = 10;
          ctx.fill();
          ctx.shadowBlur = 0;
        }

        for (let i = 0; i < nodes.length; i++) {
          for (let j = i + 1; j < nodes.length; j++) {
            const dx = nodes[i].x - nodes[j].x;
            const dy = nodes[i].y - nodes[j].y;
            const d = Math.hypot(dx, dy);
            if (d < 150) {
              ctx.strokeStyle = `rgba(0,185,161,${1 - d / 150})`;
              ctx.shadowColor = `rgba(0,185,161,${0.6 - d / 250})`;
              ctx.shadowBlur = 10;
              ctx.lineWidth = 0.5;
              ctx.beginPath();
              ctx.moveTo(nodes[i].x, nodes[i].y);
              ctx.lineTo(nodes[j].x, nodes[j].y);
              ctx.stroke();
              ctx.shadowBlur = 0;
            }
          }
        }

        const cx = window.innerWidth / 2;
        const cy = window.innerHeight / 2 + 20;
        const centerSize = 110;
        const center = icons.find(it => it.src.endsWith('arac-stratcom.PNG')) || icons[0];
        if (center && center.ok && center.img && center.img.complete && center.img.naturalWidth > 0) {
          ctx.save();
          ctx.beginPath();
          ctx.arc(cx, cy, centerSize/2, 0, Math.PI * 2);
          ctx.closePath();
          ctx.clip();
          ctx.drawImage(center.img, cx - centerSize/2, cy - centerSize/2, centerSize, centerSize);
          ctx.restore();
        } else {
          drawPlaceholder(cx, cy, centerSize, 'ARAC');
        }

        const RADIUS = Math.min(250, Math.max(170, Math.min(window.innerWidth, window.innerHeight) / 3));
        const time = performance.now() * 0.00025;
        const size = 70;
        const step = (Math.PI * 2) / icons.length;
        icons.forEach((it, i) => {
          const ang = time + i * step;
          const x = cx + RADIUS * Math.cos(ang);
          const y = cy + RADIUS * Math.sin(ang);

          if (it.ok && it.img && it.img.complete && it.img.naturalWidth > 0) {
            ctx.save();
            ctx.beginPath();
            ctx.arc(x, y, size/2, 0, Math.PI * 2);
            ctx.closePath();
            ctx.clip();
            ctx.drawImage(it.img, x - size/2, y - size/2, size, size);
            ctx.restore();
          } else {
            const label = (it.src.split('/') .pop() || 'logo').split('.')[0].slice(0, 8);
            drawPlaceholder(x, y, size, label);
          }
        });

        requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    }

    loadImages(IMAGE_SOURCES).then(results => {
      const icons = results.map(r => ({ ok: r.ok, img: r.img, src: r.src }));
      start(icons);
    });

    window.addEventListener('resize', resizeCanvas);
  </script>
</body>
</html>
